<?xml version='1.0' encoding='utf-8'?>
<sdf version="1.6" xmlns:xacro="http://www.ros.org/wiki/xacro">
  <xacro:macro name="Husky_stripped_xacro" params='base_link:="base_link"'>
    

    <link name="${base_link}">
      <pose frame="">0 0 0 0 -0 0</pose>
      <inertial>
        <pose frame="">0 0 0.062329 0 -0 0</pose>
        <mass>46.064</mass>
        <inertia>
          <ixx>0.615397</ixx>
          <ixy>-0.0240585</ixy>
          <ixz>-0.120749</ixz>
          <iyy>1.75388</iyy>
          <iyz>-0.0028322</iyz>
          <izz>2.03641</izz>
        </inertia>
      </inertial>

      <collision name="base_link_collision">
        <pose frame="">0 0 0.12 0 0 0</pose>
        <geometry>
          <box>
            <size>0.9874 0.5709 0.05</size>
          </box>
        </geometry>
      </collision>
      <collision name="base_link_collision_bottom">
        <pose frame="">0 0 0.046 0 0 0</pose>
        <geometry>
          <box>
            <size>0.80 0.5709 0.095</size>
          </box>
        </geometry>
      </collision>
      <collision name="base_link_collision_1">
        <pose frame="">0 0 0.185625 0 -0 0</pose>
        <geometry>
          <box>
            <size>0.78992 0.5709 0.12375</size>
          </box>
        </geometry>
      </collision>
      
      <visual name="base_link_visual">
        <pose frame="">0 0 0 0 -0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://Husky_stripped_xacro/meshes/base_link.dae</uri>
          </mesh>
        </geometry>
      </visual>
      
      <visual name="base_link_fixed_joint_lump__front_bumper_link_visual_3">
        <pose frame="">0.48 0 0.091 0 -0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://Husky_stripped_xacro/meshes/bumper.dae</uri>
          </mesh>
        </geometry>
      </visual>
      <visual name="base_link_fixed_joint_lump__rear_bumper_link_visual_4">
        <pose frame="">-0.48 0 0.091 0 -0 3.14159</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://Husky_stripped_xacro/meshes/bumper.dae</uri>
          </mesh>
        </geometry>
      </visual>
      <visual name="base_link_fixed_joint_lump__top_chassis_link_visual_5">
        <pose frame="">0 0 0 0 -0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://Husky_stripped_xacro/meshes/top_chassis.dae</uri>
          </mesh>
        </geometry>
      </visual>
      <visual name="base_link_fixed_joint_lump__top_plate_link_visual_6">
        <pose frame="">0.0812 0 0.245 0 -0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://Husky_stripped_xacro/meshes/top_plate.dae</uri>
          </mesh>
        </geometry>
      </visual>
      
      <velocity_decay/>
      <self_collide>0</self_collide>
      <enable_wind>0</enable_wind>
      <kinematic>0</kinematic>
      <gravity>1</gravity>
      <velocity_decay/>
      
      <light name="flashlight_flashlight_light_source_lamp_light" type="spot">
        <pose frame="">0.48 0.08 0.12 3.141592653589793 1.5707926535897934 -0.0015926535897931</pose>
        <attenuation>
          <range>50</range>
          <linear>0</linear>
          <constant>0.1</constant>
          <quadratic>0.0025</quadratic>
        </attenuation>
        <diffuse>0.8 0.8 0.5 1</diffuse>
        <specular>0.8 0.8 0.5 1</specular>
        <spot>
          <inner_angle>1.2</inner_angle>
          <outer_angle>1.3</outer_angle>
          <falloff>1</falloff>
        </spot>
        <direction>0 0 -1</direction>
      </light>
      <visual name="flashlight_flashlight_light_source_lamp_viz_visual">
        <pose>0.48 0.08 0.12 3.141592653589793 1.5707926535897934 -0.0015926535897931</pose>
        <geometry>
          <cylinder>
            <radius>0.019</radius>
            <length>0.005</length>
          </cylinder>
        </geometry>
        <transparency>0</transparency>
        <material>
          <ambient>1 1 1 1</ambient>
          <diffuse>1 1 1 1</diffuse>
          <specular>1 1 1 1</specular>
          <emissive>1 1 1 1</emissive>
        </material>
      </visual>
    </link>
    <link name="front_left_wheel_link">
      <pose frame="">0.256 0.2854 0.03282 0 -0 0</pose>
      <inertial>
        <pose frame="">0 0 0 0 -0 0</pose>
        <mass>2.637</mass>
        <inertia>
          <ixx>0.02467</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>0.04411</iyy>
          <iyz>0</iyz>
          <izz>0.02467</izz>
        </inertia>
      </inertial>
      <collision name="front_left_wheel_link_collision">
        <pose frame="">0 0 0 1.5707963267948966 -0 0</pose>
        <geometry>
          <cylinder>
            <length>0.1143</length>
            <radius>0.1651</radius>
          </cylinder>
        </geometry>
        <surface>
          <contact>
            <ode>
              <kp>1e+07</kp>
              <kd>1</kd>
            </ode>
          </contact>
          <friction>
            <ode>
              <mu>1.0</mu>
              <mu2>1</mu2>
              <slip1>0.0</slip1>
              <slip2>0.0</slip2>
              <fdir1>0 0 1</fdir1>
            </ode>
          </friction>
        </surface>
      </collision>
      <visual name="front_left_wheel_link_visual">
        <pose frame="">0 0 0 0 -0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://Husky_stripped_xacro/meshes/wheel.dae</uri>
          </mesh>
        </geometry>
      </visual>
      <gravity>1</gravity>
      <velocity_decay/>
    </link>
    <joint name="front_left_wheel_joint" type="revolute">
      <child>front_left_wheel_link</child>
      <parent>${base_link}</parent>
      <axis>
        <xyz>0 1 0</xyz>
        <limit>
          <lower>-1e+16</lower>
          <upper>1e+16</upper>
          <effort>50.0</effort>         <!-- allow the plugin to apply torque -->
          <velocity>100.0</velocity>    <!-- rad/s limit well above normal -->
        </limit>
        <dynamics>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
          <damping>0.1</damping>        <!-- small damping prevents chatter -->
          <friction>0.0</friction>
        </dynamics>
        <use_parent_model_frame>1</use_parent_model_frame>
      </axis>
    </joint>
    <link name="front_right_wheel_link">
      <pose frame="">0.256 -0.2854 0.03282 0 -0 0</pose>
      <inertial>
        <pose frame="">0 0 0 0 -0 0</pose>
        <mass>2.637</mass>
        <inertia>
          <ixx>0.02467</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>0.04411</iyy>
          <iyz>0</iyz>
          <izz>0.02467</izz>
        </inertia>
      </inertial>
      <collision name="front_right_wheel_link_collision">
        <pose frame="">0 0 0 1.5707963267948966 -0 0</pose>
        <geometry>
          <cylinder>
            <length>0.1143</length>
            <radius>0.1651</radius>
          </cylinder>
        </geometry>
        <surface>
          <contact>
            <ode>
              <kp>1e+07</kp>
              <kd>1</kd>
            </ode>
          </contact>
          <friction>
            <ode>
              <mu>1.0</mu>
              <mu2>1.0</mu2>
              <slip1>0.0</slip1>
              <slip2>0.0</slip2>
              <fdir1>0 0 1</fdir1>
            </ode>
          </friction>
        </surface>
      </collision>
      <visual name="front_right_wheel_link_visual">
        <pose frame="">0 0 0 0 -0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://Husky_stripped_xacro/meshes/wheel.dae</uri>
          </mesh>
        </geometry>
      </visual>
      <gravity>1</gravity>
      <velocity_decay/>
    </link>
    <joint name="front_right_wheel_joint" type="revolute">
      <child>front_right_wheel_link</child>
      <parent>${base_link}</parent>
      <axis>
        <xyz>0 1 0</xyz>
        <limit>
          <lower>-1e+16</lower>
          <upper>1e+16</upper>
          <effort>50.0</effort>         <!-- allow the plugin to apply torque -->
          <velocity>100.0</velocity>    <!-- rad/s limit well above normal -->
        </limit>
        <dynamics>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
          <damping>0.1</damping>        <!-- small damping prevents chatter -->
          <friction>0.0</friction>
        </dynamics>
        <use_parent_model_frame>1</use_parent_model_frame>
      </axis>
    </joint>
    <link name="rear_left_wheel_link">
      <pose frame="">-0.256 0.2854 0.03282 0 -0 0</pose>
      <inertial>
        <pose frame="">0 0 0 0 -0 0</pose>
        <mass>2.637</mass>
        <inertia>
          <ixx>0.02467</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>0.04411</iyy>
          <iyz>0</iyz>
          <izz>0.02467</izz>
        </inertia>
      </inertial>
      <collision name="rear_left_wheel_link_collision">
        <pose frame="">0 0 0 1.5707963267948966 -0 0</pose>
        <geometry>
          <cylinder>
            <length>0.1143</length>
            <radius>0.1651</radius>
          </cylinder>
        </geometry>
        <surface>
          <contact>
            <ode>
              <kp>1e+07</kp>
              <kd>1</kd>
            </ode>
          </contact>
          <friction>
            <ode>
              <mu>1.0</mu>
              <mu2>1.0</mu2>
              <slip1>0.0</slip1>
              <slip2>0.0</slip2>
              <fdir1>0 0 1</fdir1>
            </ode>
          </friction>
        </surface>
      </collision>
      <visual name="rear_left_wheel_link_visual">
        <pose frame="">0 0 0 0 -0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://Husky_stripped_xacro/meshes/wheel.dae</uri>
          </mesh>
        </geometry>
      </visual>
      <gravity>1</gravity>
      <velocity_decay/>
    </link>
    <joint name="rear_left_wheel_joint" type="revolute">
      <child>rear_left_wheel_link</child>
      <parent>${base_link}</parent>
      <axis>
        <xyz>0 1 0</xyz>
        <limit>
          <lower>-1e+16</lower>
          <upper>1e+16</upper>
          <effort>50.0</effort>         <!-- allow the plugin to apply torque -->
          <velocity>100.0</velocity>    <!-- rad/s limit well above normal -->
        </limit>
        <dynamics>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
          <damping>0.1</damping>        <!-- small damping prevents chatter -->
          <friction>0.0</friction>
        </dynamics>
        <use_parent_model_frame>1</use_parent_model_frame>
      </axis>
    </joint>
    <link name="rear_right_wheel_link">
      <pose frame="">-0.256 -0.2854 0.03282 0 -0 0</pose>
      <inertial>
        <pose frame="">0 0 0 0 -0 0</pose>
        <mass>2.637</mass>
        <inertia>
          <ixx>0.02467</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>0.04411</iyy>
          <iyz>0</iyz>
          <izz>0.02467</izz>
        </inertia>
      </inertial>
      <collision name="rear_right_wheel_link_collision">
        <pose frame="">0 0 0 1.5707963267948966 -0 0</pose>
        <geometry>
          <cylinder>
            <length>0.1143</length>
            <radius>0.1651</radius>
          </cylinder>
        </geometry>
        <surface>
          <contact>
            <ode>
              <kp>1e+07</kp>
              <kd>1</kd>
            </ode>
          </contact>
          <friction>
            <ode>
              <mu>1.0</mu>
              <mu2>1.0</mu2>
              <slip1>0.0</slip1>
              <slip2>0.0</slip2>
              <fdir1>0 0 1</fdir1>
            </ode>
          </friction>
        </surface>
      </collision>
      <visual name="rear_right_wheel_link_visual">
        <pose frame="">0 0 0 0 -0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://Husky_stripped_xacro/meshes/wheel.dae</uri>
          </mesh>
        </geometry>
      </visual>
      <gravity>1</gravity>
      <velocity_decay/>
    </link>
    <joint name="rear_right_wheel_joint" type="revolute">
      <child>rear_right_wheel_link</child>
      <parent>${base_link}</parent>
      <axis>
        <xyz>0 1 0</xyz>
        <limit>
          <lower>-1e+16</lower>
          <upper>1e+16</upper>
          <effort>50.0</effort>         <!-- allow the plugin to apply torque -->
          <velocity>100.0</velocity>    <!-- rad/s limit well above normal -->
        </limit>
        <dynamics>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
          <damping>0.1</damping>        <!-- small damping prevents chatter -->
          <friction>0.0</friction>
        </dynamics>
        <use_parent_model_frame>1</use_parent_model_frame>
      </axis>
    </joint>

    <link name="Top_plate_link">
      
    </link>

    <joint name="Top_plate_joint" type="fixed">
      <child>Top_plate_link</child>
      <parent>${base_link}</parent>
      <pose relative_to ="${base_link}">0.0812 0 0.245 0 -0 0</pose>
    </joint>

    <static>false</static>
    <plugin name="gz::sim::systems::DiffDrive" filename="gz-sim-diff-drive-system">
      <!-- Use your real joint names here -->
      <left_joint>front_left_wheel_joint</left_joint>
      <left_joint>rear_left_wheel_joint</left_joint>
      <right_joint>front_right_wheel_joint</right_joint>
      <right_joint>rear_right_wheel_joint</right_joint>

      <!-- Tune to your modelâ€™s geometry -->
      <wheel_separation>0.555</wheel_separation>
      <wheel_radius>0.165</wheel_radius>

      <!-- Topics / frames -->
      <topic>/model/husky/cmd_vel</topic>
      <odom_topic>/model/husky/odometry</odom_topic>
      <odom_frame>odom</odom_frame>
      <robot_base_frame>base_link</robot_base_frame>
      <publish_odom>true</publish_odom>
      <publish_tf>false</publish_tf>
    </plugin>
  </xacro:macro>
</sdf>
